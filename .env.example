# ============================================================================
# Core environment variables with placeholders and recommended defaults.

# Provider: gemini | openai | anthropic | custom
VITE_AI_PROVIDER=gemini

# API key (REQUIRED) - set your provider key here
VITE_AI_API_KEY=your_api_key_here
# Optional per-provider fallbacks
# VITE_GEMINI_API_KEY=
# VITE_OPENAI_API_KEY=

# Model and generation
VITE_AI_MODEL=gemini-2.5-flash
VITE_AI_TEMPERATURE=0.2

# Feature flags (true/false)
VITE_FEATURE_CACHE=true
VITE_FEATURE_FILE_PROCESSING=true
# MOCK_MODE_ENABLED=true

# Rate limiting & timeouts (recommended balanced defaults)
# Number of retries for transient failures
VITE_RATE_LIMIT_MAX_RETRIES=2
# Base delay between retries (ms)
VITE_RATE_LIMIT_DELAY_MS=800
VITE_RATE_LIMIT_EXPONENTIAL_BACKOFF=true
# Server-side request timeout for vision/classification (ms)
VITE_AI_REQUEST_TIMEOUT_MS=120000

# PHASE 4: Optimized Configuration for Stage 2 Background Analysis
# AI Generation Timeout (milliseconds) - for narrative text generation (Stage 2)
# Optimized for 2-4k token outputs (typically 30-120 seconds)
# Server-only configuration (read by server/index.cjs)
# Default: 180000 (3 minutes - balanced for typical diagrams)
AI_GENERATION_TIMEOUT_MS=180000

# NOTE: maxOutputTokens is dynamically calculated based on component count
# Formula: 500 base + (componentCount * 75), capped at 4096 tokens
# This ensures efficient token usage while maintaining quality
# Override only if you need custom limits for specific use cases
# MAX_OUTPUT_TOKENS=4096

# File processing
VITE_FILE_MAX_SIZE=10485760
VITE_FILE_SUPPORTED_FORMATS=pdf,png,jpg,jpeg,dwg
VITE_FILE_PDF_DPI=300

# Dev server (optional)
VITE_PORT=3000
VITE_HMR_CLIENT_PORT=3000

# Centralized serverConfig recommended overrides (placeholders)
# These are read by frontend/lib/serverConfig.ts and serverAI.ts
VITE_MAX_THINKING_BUDGET=8000
VITE_MIN_THINKING_BUDGET=3000
VITE_MAX_THINKING_BUDGET_CAP=20000
VITE_DEFAULT_THINKING_BUDGET=8000
VITE_DEFAULT_MAX_OUTPUT_TOKENS=8192
VITE_IMAGE_SIZE_DIVISOR=2000
VITE_BACKOFF_MULTIPLIER=1.8
VITE_HIGH_CONFIDENCE_THRESHOLD=0.9

# Data root for server (defaults to ./data/projects if unset in code)
# Set to server/data to use the server-local data directory
DATA_ROOT=./server/data
